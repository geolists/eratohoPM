;オプション設定処理
@OPTION
PRINTL 設定項目を選択してください
PRINTL [0] - テキスト設定
PRINTL [1] - 射精箇所設定
PRINTL [2] - 着衣関連設定
PRINTL [100]-戻る
$INPUT_LOOP
INPUT
IF RESULT == 0
	CALL TEXT_SETTING
ELSEIF RESULT == 1
	CALL SAMENPLACE_SETTING
ELSEIF RESULT == 2
	CALL CLOTHES_SETTING
ELSEIF RESULT == 100
	RETURN 0
ELSE
	GOTO INPUT_LOOP
ENDIF

;テキスト関連
@TEXT_SETTING
PRINTL テキストの設定をしてください
PRINT 現在の設定：
IF FLAG:6 == 1 && FLAG:7 == 2
	PRINTL 【口上テキスト（常に表示）＋情景テキスト】
ELSEIF FLAG:6 == 1 && FLAG:7 == 1
	PRINTL 【口上テキスト（一度だけ表示）＋情景テキスト】
ELSEIF FLAG:6 == 1 && FLAG:7 == -1
	PRINTL 【情景テキストのみ】
ELSEIF FLAG:6 == 0 && FLAG:7 == -1
	PRINTL 【テキストを表示しない】
ENDIF
PRINTL 　
PRINTL [0] - 口上テキスト（常に表示）＋情景テキスト
PRINTL [1] - 口上テキスト（一度だけ表示）＋情景テキスト
PRINTL [2] - 情景テキストのみ
PRINTL [3] - テキストを表示しない
PRINTL [100]-戻る
$INPUT_LOOP
INPUT
IF RESULT == 100
	RETURN 0
ELSEIF RESULT == 0
	PRINTL 【口上テキスト（常に表示）＋情景テキスト】に設定しました
	FLAG:6 = 1
	FLAG:7 = 2
ELSEIF RESULT == 1
	PRINTL 【口上テキスト（一度だけ表示）＋情景テキスト】に設定しました
	FLAG:6 = 1
	FLAG:7 = 1
ELSEIF RESULT == 2
	PRINTL 【情景テキストのみ】に設定しました
	FLAG:6 = 1
	FLAG:7 = -1
ELSEIF RESULT == 3
	PRINTL 【テキストを表示しない】に設定しました
	FLAG:6 = 0
	FLAG:7 = -1
ELSE
	GOTO INPUT_LOOP
ENDIF

;射精位置設定
@SAMENPLACE_SETTING
PRINTL 射精時に自動で選択する射精箇所を選択してください
PRINT 現在射精時に自動選択する射精箇所は：
	CALL CHECK_SAMEN_PLACE
PRINTL 
PRINTL [0] 「髪」
PRINTL [1] 「顔」
PRINTL [2] 「胸」
PRINTL [3] 「腹」
PRINTL [4] 「腋」
PRINTL [5] 「太もも」
PRINTL [6] 「割れ目」
PRINTL [7] 「尻」
PRINTL [8] 「そのまま射精」or「コンドームに射精」
PRINTL [9] 「その都度選択」
$INPUT_LOOP
INPUT
IF RESULT == 0
	PRINTW ―射精先を髪に固定しました―
	FLAG:99 = 0
ELSEIF RESULT == 1
	PRINTW ―射精先を顔に固定しました―
	FLAG:99 = 1
ELSEIF RESULT == 2
	PRINTW ―射精先を胸に固定しました―
	FLAG:99 = 2
ELSEIF RESULT == 3
	PRINTW ―射精先を腹に固定しました―
	FLAG:99 = 3
ELSEIF RESULT == 4
	PRINTW ―射精先を腋に固定しました―
	FLAG:99 = 4
ELSEIF RESULT == 5
	PRINTW ―射精先を太ももに固定しました―
	FLAG:99 = 5
ELSEIF RESULT == 6
	PRINTW ―射精先を割れ目に固定しました―
	FLAG:99 = 6
ELSEIF RESULT == 7
	PRINTW ―射精先を尻に固定しました―
	FLAG:99 = 7
ELSEIF RESULT == 8
	PRINTW ―選択せずそのまま射精するよう設定しました―
	FLAG:99 = 8
ELSEIF RESULT == 9
	PRINTW ―射精の度に選択するように設定しました―
	FLAG:99 = 9
ELSE
	GOTO INPUT_LOOP
ENDIF


@CHECK_SAMEN_PLACE
IF FLAG:99 == 0
	PRINT 　　　　　髪
ELSEIF FLAG:99 == 1
	PRINT 　　　　　顔
ELSEIF FLAG:99 == 2
	PRINT 　　　　　胸
ELSEIF FLAG:99 == 3
	PRINT 　　　　　腹
ELSEIF FLAG:99 == 4
	PRINT 　　　　　腋
ELSEIF FLAG:99 == 5
	PRINT 　　　太もも
ELSEIF FLAG:99 == 6
	PRINT 　　　割れ目
ELSEIF FLAG:99 == 7
	PRINT 　　　　　尻
ELSEIF FLAG:99 == 8
	PRINT そのまま射精
ELSEIF FLAG:99 == 9
	PRINT その都度選択
ENDIF


;初期着衣設定
@CLOTHES_SETTING
Z = 0
PRINTL 設定する項目を選択してください
PRINTL [0] - 調教時の着衣状態設定
PRINTL [1] - 服装の設定

$INPUT_LOOP
INPUT
IF RESULT == 0
	CALL CLOTHES_SETTING_TRAIN
ELSEIF RESULT == 1
	CALL CLOTHES_SETTING_USUALLY
ELSE
	GOTO INPUT_LOOP
ENDIF




@CLOTHES_SETTING_TRAIN
Z = 0
PRINTL 初期の着衣を設定してください
PRINTL [0] - 全着
PRINTL [1] - 半脱ぎ
PRINTL [2] - 下着姿
PRINTL [3] - 全裸
PRINTL [4] - 前回終了時
$INPUT_LOOP
INPUT
IF RESULT == 0
	PRINTW 初期の着衣を全着に設定しました
	FLAG:1 = 0
ELSEIF RESULT == 1
	PRINTW 初期の着衣を半脱ぎに設定しました
	FLAG:1 = 1
ELSEIF RESULT == 2
	PRINTW 初期の着衣を下着姿に設定しました
	FLAG:1 = 2
ELSEIF RESULT == 3
	PRINTW 初期の着衣を全裸に設定しました
	FLAG:1 = 3
ELSEIF RESULT == 4
	PRINTW 初期の着衣を前回終了時の状態に設定しました
	FLAG:1 = 4
ELSE
	GOTO INPUT_LOOP
ENDIF

@CLOTHES_SETTING_USUALLY
PRINTL 着衣の設定をするキャラを選択してください
REPEAT CHARANUM
	SIF COUNT == MASTER
		CONTINUE
	SIF COUNT < 10
		PRINTFORM [{COUNT}]  
	SIF COUNT >= 10
		PRINTFORM [{COUNT}] 
	PRINTFORML %NAME:COUNT%
REND
PRINTL [100] 戻る
$INPUT_LOOP
INPUT
SIF RESULT == 100
	RETURN 0
SIF RESULT < 0 || RESULT >= CHARANUM
	GOTO INPUT_LOOP
SIF RESULT == MASTER
	GOTO INPUT_LOOP
T:10 = TARGET
TARGET = RESULT
CALL CLOTHES_SETTING_USUALLY_A
TARGET = T:10


@CLOTHES_SETTING_USUALLY_A
PRINTFORML □%NAME:TARGET%の服装

DRAWLINE
REPEAT 7
	B = 46-COUNT
	SIF COUNT == 0 && CFLAG:B
		PRINT 全身上着　:
	SIF COUNT == 1 && CFLAG:B
		PRINT 上半身上着:
	SIF COUNT == 2 && CFLAG:B
		PRINT 下半身上着:
	SIF COUNT == 3 && CFLAG:B
		PRINT 上半身下着:
	SIF COUNT == 4 && CFLAG:B
		PRINT 下半身下着:
	SIF COUNT == 5 && CFLAG:B
		PRINT 足元　　　:
	SIF COUNT == 6 && CFLAG:B
		PRINT その他　　:
	A = 6-COUNT
	CALL CLOTHES_NAME
	SIF CFLAG:B
		PRINTL 
REND
DRAWLINE
PRINTL 着衣の変更をしたい部位を選択してください
PRINTL [0] 上着
PRINTL [1] 下着（上半身）
PRINTL [2] 下着（下半身）
PRINTL [3] アクセサリー（足元）
PRINTL [4] アクセサリー（その他）
SIF ITEM:26 || NOITEM
	PRINTL [7] コスプレの設定
PRINTL [8] 着衣設定の初期化
PRINTL [9] 戻る
$INPUT_LOOP_2
INPUT
SIF RESULT == 9
	RETURN 0
IF RESULT == 8
	CALL CLOTHES_INITIALIZE
	PRINTFORML ＜%NAME:TARGET%の服装を初期化しました＞
	RESTART
ENDIF
IF RESULT == 7
	IF ABL:0 < 3
		PRINTFORMW %NAME:TARGET%はコスプレを拒否しました（従順Lv3以上必要）
	ELSE
		CALL CLOTHES_SETTING_COSTUME
	ENDIF
	RESTART
ENDIF
SIF RESULT < 0 || RESULT > 4
	GOTO INPUT_LOOP_2

IF RESULT == 0
	CALL CLOTHES_SETTING_USUALLY_A_0
ELSEIF RESULT == 1
	CALL CLOTHES_SETTING_USUALLY_A_1
ELSEIF RESULT == 2
	CALL CLOTHES_SETTING_USUALLY_A_2
ELSEIF RESULT == 3
	CALL CLOTHES_SETTING_USUALLY_A_3
ELSEIF RESULT == 4
	CALL CLOTHES_SETTING_USUALLY_A_4
ENDIF

RESTART


@CLOTHES_SETTING_USUALLY_A_0
PRINTL 何を着せますか？
PRINTL [1] 和服
PRINTL [2] 導師服
PRINTL [3] ワンピース
PRINTL [4] 上着＋スカート
PRINTL [5] 上着＋キュロット
PRINTL [6] 上着＋もんぺ
PRINTL [7] 上着＋ズボン
PRINTL [9] 戻る

$INPUT_LOOP
INPUT
SIF RESULT == 9
	RETURN 0
SIF RESULT < 1 || RESULT > 7
	GOTO INPUT_LOOP
IF RESULT < 4
	CFLAG:44 = 0
	CFLAG:45 = 0
	CFLAG:46 = RESULT
ELSE
	CFLAG:44 = RESULT-3
	CFLAG:45 = 1
	CFLAG:46 = 0
ENDIF


@CLOTHES_SETTING_USUALLY_A_1
PRINTL 何をつけますか？
PRINTL [0] 無し
PRINTL [1] ブラジャー
PRINTL [2] スポーツブラ
PRINTL [3] さらし
PRINTL [9] 戻る

$INPUT_LOOP
INPUT
SIF RESULT == 9
	RETURN 0
SIF RESULT < 0 || RESULT > 3
	GOTO INPUT_LOOP
CFLAG:43 = RESULT

@CLOTHES_SETTING_USUALLY_A_2
PRINTL 何を履かせますか？
PRINTL [0] 無し
PRINTL [1] ドロワーズ
PRINTL [2] パンティ
PRINTL [3] 褌
PRINTL [9] 戻る

$INPUT_LOOP
INPUT
SIF RESULT == 9
	RETURN 0
SIF RESULT < 0 || RESULT > 3
	GOTO INPUT_LOOP
CFLAG:42 = RESULT


@CLOTHES_SETTING_USUALLY_A_3
PRINTL 何を履かせますか？
PRINTL [0] 無し
PRINTL [1] 靴下
PRINTL [2] ハイソックス
PRINTL [3] ニーソックス
PRINTL [4] ガーターストッキング
PRINTL [5] パンティストッキング
PRINTL [9] 戻る

$INPUT_LOOP
INPUT
SIF RESULT == 9
	RETURN 0
SIF RESULT < 0 || RESULT > 5
	GOTO INPUT_LOOP
CFLAG:41 = RESULT


@CLOTHES_SETTING_USUALLY_A_4
PRINTL 何をつけますか？
PRINTL [0] 無し
PRINTL [1] 手袋
PRINTL [2] 袖
PRINTL [3] 羽衣
PRINTL [9] 戻る

$INPUT_LOOP
INPUT
SIF RESULT == 9
	RETURN 0
SIF RESULT < 0 || RESULT > 3
	GOTO INPUT_LOOP
CFLAG:40 = RESULT


@CLOTHES_SETTING_COSTUME
PRINTL 何を着せますか？
PRINTL  [0] セーラー服
PRINTL  [1] 体操服
PRINTL  [2] 水着
PRINTL  [3] スクール水着
PRINTL  [4] ナース服
PRINTL  [5] 警官制服
PRINTL  [6] バニースーツ
PRINTL  [7] 巫女装束
PRINTL  [8] ボンデージスーツ
PRINTL  [9] 着ぐるみ
PRINTL [10] メイド服
PRINTL [99] 戻る

$INPUT_LOOP
INPUT
SIF RESULT == 99
	RETURN 0
SIF RESULT < 0 || RESULT > 10
	GOTO INPUT_LOOP
CFLAG:22 = RESULT+10

;セーラー服
IF CFLAG:22 == 10
	CFLAG:40 = 0
	CFLAG:44 = 1
	CFLAG:45 = 10
	CFLAG:46 = 0
	PRINTFORMW %NAME:TARGET%にセーラー服を着せました
;体操服
ELSEIF CFLAG:22 == 11
	CFLAG:40 = 0
	CFLAG:44 = 11
	CFLAG:45 = 11
	CFLAG:46 = 0
	PRINTFORMW %NAME:TARGET%に体操服を着せました
;水着
ELSEIF CFLAG:22 == 12
	CFLAG:40 = 0
	CFLAG:41 = 0
	CFLAG:42 = 0
	CFLAG:43 = 0
	CFLAG:44 = 12
	CFLAG:45 = 12
	CFLAG:46 = 0
	PRINTFORMW %NAME:TARGET%に水着を着せました
;スクール水着
ELSEIF CFLAG:22 == 13
	CFLAG:40 = 0
	CFLAG:41 = 0
	CFLAG:42 = 0
	CFLAG:43 = 0
	CFLAG:44 = 0
	CFLAG:45 = 0
	CFLAG:46 = 10
	PRINTFORMW %NAME:TARGET%にスクール水着を着せました
;ナース服
ELSEIF CFLAG:22 == 14
	CFLAG:40 = 10
	CFLAG:44 = 1
	CFLAG:45 = 13
	CFLAG:46 = 0
	PRINTFORMW %NAME:TARGET%にナース服を着せました
;警官制服
ELSEIF CFLAG:22 == 15
	CFLAG:40 = 11
	CFLAG:44 = 1
	CFLAG:45 = 14
	CFLAG:46 = 0
	PRINTFORMW %NAME:TARGET%に警官制服を着せました
;バニースーツ
ELSEIF CFLAG:22 == 16
	CFLAG:40 = 12
	CFLAG:42 = 2
	CFLAG:43 = 0
	CFLAG:44 = 0
	CFLAG:45 = 0
	CFLAG:46 = 11
	PRINTFORMW %NAME:TARGET%にバニースーツを着せました
;巫女服
ELSEIF CFLAG:22 == 17
	CFLAG:40 = 0
	CFLAG:44 = 15
	CFLAG:45 = 15
	CFLAG:46 = 0
	PRINTFORMW %NAME:TARGET%に巫女装束を着せました
;ボンデージスーツ
ELSEIF CFLAG:22 == 18
	CFLAG:40 = 0
	CFLAG:42 = 2
	CFLAG:44 = 0
	CFLAG:45 = 0
	CFLAG:46 = 12
	PRINTFORMW %NAME:TARGET%にボンデージスーツを着せました
;着ぐるみ
ELSEIF CFLAG:22 == 19
	CFLAG:40 = 0
	CFLAG:44 = 0
	CFLAG:45 = 0
	CFLAG:46 = 13
	PRINTFORMW %NAME:TARGET%に着ぐるみを着せました
;メイド服
ELSEIF CFLAG:22 == 20
	CFLAG:40 = 13
	CFLAG:44 = 1
	CFLAG:45 = 16
	CFLAG:46 = 0
	PRINTFORMW %NAME:TARGET%にメイド服を着せました
ENDIF







